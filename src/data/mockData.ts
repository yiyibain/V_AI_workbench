import { Product, ProductPerformance, Province, ProvincePerformance, BasicIndicators } from '../types';

// 模拟产品数据
export const mockProducts: Product[] = [
  { id: 'p1', name: '立普妥', moleculeFormula: '阿托伐他汀', category: '心血管' },
  { id: 'p2', name: '络活喜', moleculeFormula: '氨氯地平', category: '心血管' },
  { id: 'p3', name: '西乐葆', moleculeFormula: '塞来昔布', category: '抗炎镇痛' },
  { id: 'p4', name: '乐瑞卡', moleculeFormula: '普瑞巴林', category: '神经痛' },
  { id: 'p5', name: '左洛复', moleculeFormula: '舍曲林', category: '精神科' },
  { id: 'p6', name: '怡诺思', moleculeFormula: '文拉法辛', category: '精神科' },
];

// 模拟产品表现数据（2024 Q1）
export const mockProductPerformance: ProductPerformance[] = [
  {
    productId: 'p1',
    productName: '立普妥',
    moleculeFormula: '阿托伐他汀',
    moleculeShare: 35.2,
    moleculeShareChange: 2.1,
    moleculeInternalShare: 28.5,
    moleculeInternalShareChange: -3.2, // 风险：分子式涨但分子式内份额下跌
    competitorShare: 45.8,
    competitorShareChange: 1.5,
    deLimitRate: 78.5,
    deLimitRateChange: -5.2, // 风险：解限率下降
    period: '2024-Q1',
    previousPeriod: '2023-Q4',
    quarterlyData: [
      { period: '2023-Q2', moleculeShare: 32.8, moleculeInternalShare: 31.2, competitorShare: 44.0, deLimitRate: 83.2 },
      { period: '2023-Q3', moleculeShare: 33.5, moleculeInternalShare: 30.5, competitorShare: 44.5, deLimitRate: 82.8 },
      { period: '2023-Q4', moleculeShare: 33.1, moleculeInternalShare: 31.7, competitorShare: 44.3, deLimitRate: 83.7 },
      { period: '2024-Q1', moleculeShare: 35.2, moleculeInternalShare: 28.5, competitorShare: 45.8, deLimitRate: 78.5 },
    ],
  },
  {
    productId: 'p2',
    productName: '络活喜',
    moleculeFormula: '氨氯地平',
    moleculeShare: 42.3,
    moleculeShareChange: 1.8,
    moleculeInternalShare: 38.9,
    moleculeInternalShareChange: 2.1,
    competitorShare: 35.2,
    competitorShareChange: -1.2,
    deLimitRate: 85.2,
    deLimitRateChange: 3.5,
    period: '2024-Q1',
    previousPeriod: '2023-Q4',
    quarterlyData: [
      { period: '2023-Q2', moleculeShare: 40.2, moleculeInternalShare: 36.5, competitorShare: 36.8, deLimitRate: 81.2 },
      { period: '2023-Q3', moleculeShare: 40.8, moleculeInternalShare: 37.2, competitorShare: 36.0, deLimitRate: 82.5 },
      { period: '2023-Q4', moleculeShare: 40.5, moleculeInternalShare: 36.8, competitorShare: 36.4, deLimitRate: 81.7 },
      { period: '2024-Q1', moleculeShare: 42.3, moleculeInternalShare: 38.9, competitorShare: 35.2, deLimitRate: 85.2 },
    ],
  },
  {
    productId: 'p3',
    productName: '西乐葆',
    moleculeFormula: '塞来昔布',
    moleculeShare: 32.5,
    moleculeShareChange: 1.2,
    moleculeInternalShare: 28.8,
    moleculeInternalShareChange: -1.5,
    competitorShare: 42.3,
    competitorShareChange: 2.1,
    deLimitRate: 82.5,
    deLimitRateChange: 1.8,
    period: '2024-Q1',
    previousPeriod: '2023-Q4',
    quarterlyData: [
      { period: '2023-Q2', moleculeShare: 31.0, moleculeInternalShare: 30.5, competitorShare: 40.5, deLimitRate: 80.2 },
      { period: '2023-Q3', moleculeShare: 31.5, moleculeInternalShare: 30.0, competitorShare: 40.8, deLimitRate: 80.8 },
      { period: '2023-Q4', moleculeShare: 31.3, moleculeInternalShare: 30.3, competitorShare: 40.2, deLimitRate: 80.7 },
      { period: '2024-Q1', moleculeShare: 32.5, moleculeInternalShare: 28.8, competitorShare: 42.3, deLimitRate: 82.5 },
    ],
  },
  {
    productId: 'p4',
    productName: '乐瑞卡',
    moleculeFormula: '普瑞巴林',
    moleculeShare: 25.8,
    moleculeShareChange: 2.5,
    moleculeInternalShare: 22.3,
    moleculeInternalShareChange: 1.8,
    competitorShare: 48.5,
    competitorShareChange: -1.2,
    deLimitRate: 75.2,
    deLimitRateChange: 2.3,
    period: '2024-Q1',
    previousPeriod: '2023-Q4',
    quarterlyData: [
      { period: '2023-Q2', moleculeShare: 23.2, moleculeInternalShare: 20.8, competitorShare: 49.8, deLimitRate: 72.5 },
      { period: '2023-Q3', moleculeShare: 23.8, moleculeInternalShare: 21.2, competitorShare: 49.5, deLimitRate: 73.2 },
      { period: '2023-Q4', moleculeShare: 23.3, moleculeInternalShare: 20.5, competitorShare: 49.7, deLimitRate: 72.9 },
      { period: '2024-Q1', moleculeShare: 25.8, moleculeInternalShare: 22.3, competitorShare: 48.5, deLimitRate: 75.2 },
    ],
  },
  {
    productId: 'p5',
    productName: '左洛复',
    moleculeFormula: '舍曲林',
    moleculeShare: 18.5,
    moleculeShareChange: -1.2,
    moleculeInternalShare: 15.2,
    moleculeInternalShareChange: -2.5,
    competitorShare: 55.8,
    competitorShareChange: 2.8,
    deLimitRate: 68.5,
    deLimitRateChange: -3.2,
    period: '2024-Q1',
    previousPeriod: '2023-Q4',
    quarterlyData: [
      { period: '2023-Q2', moleculeShare: 19.8, moleculeInternalShare: 17.8, competitorShare: 52.5, deLimitRate: 71.8 },
      { period: '2023-Q3', moleculeShare: 19.5, moleculeInternalShare: 17.5, competitorShare: 53.2, deLimitRate: 71.2 },
      { period: '2023-Q4', moleculeShare: 19.7, moleculeInternalShare: 17.7, competitorShare: 53.0, deLimitRate: 71.7 },
      { period: '2024-Q1', moleculeShare: 18.5, moleculeInternalShare: 15.2, competitorShare: 55.8, deLimitRate: 68.5 },
    ],
  },
  {
    productId: 'p6',
    productName: '怡诺思',
    moleculeFormula: '文拉法辛',
    moleculeShare: 22.3,
    moleculeShareChange: 0.8,
    moleculeInternalShare: 18.5,
    moleculeInternalShareChange: -0.5,
    competitorShare: 52.2,
    competitorShareChange: 1.5,
    deLimitRate: 72.8,
    deLimitRateChange: 1.2,
    period: '2024-Q1',
    previousPeriod: '2023-Q4',
    quarterlyData: [
      { period: '2023-Q2', moleculeShare: 21.5, moleculeInternalShare: 19.2, competitorShare: 50.8, deLimitRate: 71.2 },
      { period: '2023-Q3', moleculeShare: 21.8, moleculeInternalShare: 19.0, competitorShare: 51.2, deLimitRate: 71.8 },
      { period: '2023-Q4', moleculeShare: 21.5, moleculeInternalShare: 19.0, competitorShare: 50.7, deLimitRate: 71.6 },
      { period: '2024-Q1', moleculeShare: 22.3, moleculeInternalShare: 18.5, competitorShare: 52.2, deLimitRate: 72.8 },
    ],
  },
];

// 模拟省份数据
export const mockProvinces: Province[] = [
  { id: 'bj', name: '北京', region: '华北' },
  { id: 'sh', name: '上海', region: '华东' },
  { id: 'gd', name: '广东', region: '华南' },
  { id: 'zj', name: '浙江', region: '华东' },
  { id: 'js', name: '江苏', region: '华东' },
  { id: 'sd', name: '山东', region: '华北' },
  { id: 'hn', name: '河南', region: '华中' },
  { id: 'hb', name: '湖北', region: '华中' },
  { id: 'sc', name: '四川', region: '西南' },
  { id: 'cq', name: '重庆', region: '西南' },
];

// 模拟省份表现数据
export const mockProvincePerformance: ProvincePerformance[] = [
  {
    provinceId: 'bj',
    provinceName: '北京',
    marketShare: 12.5,
    roi: 1.85,
    nonLiluRatio: 45.2,
    deLimitRate: 92.5,
    penetrationRate: 88.3,
    healthScore: 92,
    healthLevel: 'excellent',
    period: '2024-Q1',
  },
  {
    provinceId: 'sh',
    provinceName: '上海',
    marketShare: 15.2,
    roi: 1.92,
    nonLiluRatio: 48.5,
    deLimitRate: 90.8,
    penetrationRate: 85.6,
    healthScore: 90,
    healthLevel: 'excellent',
    period: '2024-Q1',
  },
  {
    provinceId: 'gd',
    provinceName: '广东',
    marketShare: 18.5,
    roi: 1.65,
    nonLiluRatio: 42.3,
    deLimitRate: 78.5,
    penetrationRate: 72.2,
    healthScore: 75,
    healthLevel: 'good',
    period: '2024-Q1',
  },
  {
    provinceId: 'zj',
    provinceName: '浙江',
    marketShare: 10.8,
    roi: 1.78,
    nonLiluRatio: 40.5,
    deLimitRate: 85.2,
    penetrationRate: 80.5,
    healthScore: 82,
    healthLevel: 'good',
    period: '2024-Q1',
  },
  {
    provinceId: 'js',
    provinceName: '江苏',
    marketShare: 11.2,
    roi: 1.55,
    nonLiluRatio: 38.2,
    deLimitRate: 72.5,
    penetrationRate: 68.3,
    healthScore: 68,
    healthLevel: 'average',
    period: '2024-Q1',
  },
  {
    provinceId: 'sd',
    provinceName: '山东',
    marketShare: 9.5,
    roi: 1.42,
    nonLiluRatio: 35.8,
    deLimitRate: 65.2,
    penetrationRate: 62.5,
    healthScore: 58,
    healthLevel: 'poor',
    period: '2024-Q1',
  },
  {
    provinceId: 'hn',
    provinceName: '河南',
    marketShare: 8.2,
    roi: 1.35,
    nonLiluRatio: 32.5,
    deLimitRate: 58.5,
    penetrationRate: 55.8,
    healthScore: 52,
    healthLevel: 'poor',
    period: '2024-Q1',
  },
  {
    provinceId: 'hb',
    provinceName: '湖北',
    marketShare: 7.8,
    roi: 1.48,
    nonLiluRatio: 38.5,
    deLimitRate: 68.2,
    penetrationRate: 65.5,
    healthScore: 65,
    healthLevel: 'average',
    period: '2024-Q1',
  },
  {
    provinceId: 'sc',
    provinceName: '四川',
    marketShare: 6.5,
    roi: 1.38,
    nonLiluRatio: 33.2,
    deLimitRate: 62.5,
    penetrationRate: 58.8,
    healthScore: 55,
    healthLevel: 'poor',
    period: '2024-Q1',
  },
  {
    provinceId: 'cq',
    provinceName: '重庆',
    marketShare: 5.2,
    roi: 1.25,
    nonLiluRatio: 28.5,
    deLimitRate: 55.2,
    penetrationRate: 52.3,
    healthScore: 48,
    healthLevel: 'poor',
    period: '2024-Q1',
  },
];

// 基础指标数据（以立普妥为例）
const mockBasicIndicators: BasicIndicators[] = [
  {
    productId: 'p1',
    productName: '立普妥',
    quarterlyData: [
      {
        period: '2023-Q2',
        statinShare: 9.8, // 立普妥占他汀份额
        coreHospitalPenetration: 9.5, // 核心影响型医院渗透率
        stableDistributionRate: 58.2, // 稳定分销率
        weightedDeLimitRate: 19.5, // 加权解限率
        targetHospitalPenetration: 9.2, // 目标影响型医院渗透率
      },
      {
        period: '2023-Q3',
        statinShare: 10.2,
        coreHospitalPenetration: 9.8,
        stableDistributionRate: 59.5,
        weightedDeLimitRate: 20.1,
        targetHospitalPenetration: 9.6,
      },
      {
        period: '2023-Q4',
        statinShare: 10.5,
        coreHospitalPenetration: 10.2,
        stableDistributionRate: 60.8,
        weightedDeLimitRate: 20.5,
        targetHospitalPenetration: 10.1,
      },
      {
        period: '2024-Q1',
        statinShare: 10.8,
        coreHospitalPenetration: 10.5,
        stableDistributionRate: 61.2,
        weightedDeLimitRate: 21.2,
        targetHospitalPenetration: 10.3,
      },
    ],
  },
  {
    productId: 'p2',
    productName: '络活喜',
    quarterlyData: [
      {
        period: '2023-Q2',
        statinShare: 8.5,
        coreHospitalPenetration: 8.2,
        stableDistributionRate: 55.8,
        weightedDeLimitRate: 18.5,
        targetHospitalPenetration: 8.0,
      },
      {
        period: '2023-Q3',
        statinShare: 8.8,
        coreHospitalPenetration: 8.5,
        stableDistributionRate: 56.5,
        weightedDeLimitRate: 19.0,
        targetHospitalPenetration: 8.3,
      },
      {
        period: '2023-Q4',
        statinShare: 9.0,
        coreHospitalPenetration: 8.8,
        stableDistributionRate: 57.2,
        weightedDeLimitRate: 19.5,
        targetHospitalPenetration: 8.5,
      },
      {
        period: '2024-Q1',
        statinShare: 9.2,
        coreHospitalPenetration: 9.0,
        stableDistributionRate: 58.0,
        weightedDeLimitRate: 20.0,
        targetHospitalPenetration: 8.8,
      },
    ],
  },
  {
    productId: 'p3',
    productName: '西乐葆',
    quarterlyData: [
      {
        period: '2023-Q2',
        statinShare: 7.2,
        coreHospitalPenetration: 7.0,
        stableDistributionRate: 52.5,
        weightedDeLimitRate: 17.8,
        targetHospitalPenetration: 6.8,
      },
      {
        period: '2023-Q3',
        statinShare: 7.5,
        coreHospitalPenetration: 7.3,
        stableDistributionRate: 53.2,
        weightedDeLimitRate: 18.2,
        targetHospitalPenetration: 7.1,
      },
      {
        period: '2023-Q4',
        statinShare: 7.8,
        coreHospitalPenetration: 7.5,
        stableDistributionRate: 54.0,
        weightedDeLimitRate: 18.8,
        targetHospitalPenetration: 7.3,
      },
      {
        period: '2024-Q1',
        statinShare: 8.0,
        coreHospitalPenetration: 7.8,
        stableDistributionRate: 54.5,
        weightedDeLimitRate: 19.2,
        targetHospitalPenetration: 7.5,
      },
    ],
  },
  {
    productId: 'p4',
    productName: '乐瑞卡',
    quarterlyData: [
      {
        period: '2023-Q2',
        statinShare: 6.5,
        coreHospitalPenetration: 6.2,
        stableDistributionRate: 50.2,
        weightedDeLimitRate: 16.5,
        targetHospitalPenetration: 6.0,
      },
      {
        period: '2023-Q3',
        statinShare: 6.8,
        coreHospitalPenetration: 6.5,
        stableDistributionRate: 51.0,
        weightedDeLimitRate: 17.0,
        targetHospitalPenetration: 6.3,
      },
      {
        period: '2023-Q4',
        statinShare: 7.0,
        coreHospitalPenetration: 6.8,
        stableDistributionRate: 51.8,
        weightedDeLimitRate: 17.5,
        targetHospitalPenetration: 6.5,
      },
      {
        period: '2024-Q1',
        statinShare: 7.2,
        coreHospitalPenetration: 7.0,
        stableDistributionRate: 52.5,
        weightedDeLimitRate: 18.0,
        targetHospitalPenetration: 6.8,
      },
    ],
  },
  {
    productId: 'p5',
    productName: '左洛复',
    quarterlyData: [
      {
        period: '2023-Q2',
        statinShare: 5.8,
        coreHospitalPenetration: 5.5,
        stableDistributionRate: 48.5,
        weightedDeLimitRate: 15.2,
        targetHospitalPenetration: 5.3,
      },
      {
        period: '2023-Q3',
        statinShare: 6.0,
        coreHospitalPenetration: 5.8,
        stableDistributionRate: 49.2,
        weightedDeLimitRate: 15.8,
        targetHospitalPenetration: 5.5,
      },
      {
        period: '2023-Q4',
        statinShare: 5.9,
        coreHospitalPenetration: 5.6,
        stableDistributionRate: 48.8,
        weightedDeLimitRate: 15.5,
        targetHospitalPenetration: 5.4,
      },
      {
        period: '2024-Q1',
        statinShare: 5.7,
        coreHospitalPenetration: 5.4,
        stableDistributionRate: 48.0,
        weightedDeLimitRate: 15.0,
        targetHospitalPenetration: 5.2,
      },
    ],
  },
  {
    productId: 'p6',
    productName: '怡诺思',
    quarterlyData: [
      {
        period: '2023-Q2',
        statinShare: 6.2,
        coreHospitalPenetration: 6.0,
        stableDistributionRate: 49.5,
        weightedDeLimitRate: 16.2,
        targetHospitalPenetration: 5.8,
      },
      {
        period: '2023-Q3',
        statinShare: 6.5,
        coreHospitalPenetration: 6.2,
        stableDistributionRate: 50.2,
        weightedDeLimitRate: 16.8,
        targetHospitalPenetration: 6.0,
      },
      {
        period: '2023-Q4',
        statinShare: 6.3,
        coreHospitalPenetration: 6.1,
        stableDistributionRate: 49.8,
        weightedDeLimitRate: 16.5,
        targetHospitalPenetration: 5.9,
      },
      {
        period: '2024-Q1',
        statinShare: 6.4,
        coreHospitalPenetration: 6.2,
        stableDistributionRate: 50.5,
        weightedDeLimitRate: 17.0,
        targetHospitalPenetration: 6.1,
      },
    ],
  },
];

// 获取产品的基础指标数据
export function getBasicIndicators(productId: string): BasicIndicators {
  const indicators = mockBasicIndicators.find(ind => ind.productId === productId);
  if (!indicators) {
    // 如果找不到，返回默认数据（立普妥的数据）
    return mockBasicIndicators[0];
  }
  return indicators;
}
